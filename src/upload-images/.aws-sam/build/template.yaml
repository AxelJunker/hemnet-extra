Resources:
  UploadImagesHandlerServiceRoleFFE783C5:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
        - Action: sts:AssumeRole
          Effect: Allow
          Principal:
            Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
      - Fn::Join:
        - ''
        - - 'arn:'
          - Ref: AWS::Partition
          - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: UploadImagesLambdaStack/UploadImagesHandler/ServiceRole/Resource
  UploadImagesHandler8D7B8676:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8S3BucketC026B9ED
        S3Key:
          Fn::Join:
          - ''
          - - Fn::Select:
              - 0
              - Fn::Split:
                - '||'
                - Ref: AssetParametersffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8S3VersionKey5009708E
            - Fn::Select:
              - 1
              - Fn::Split:
                - '||'
                - Ref: AssetParametersffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8S3VersionKey5009708E
      Role:
        Fn::GetAtt:
        - UploadImagesHandlerServiceRoleFFE783C5
        - Arn
      FunctionName: upload-images
      Handler: main
      Runtime: provided.al2
    DependsOn:
    - UploadImagesHandlerServiceRoleFFE783C5
    Metadata:
      aws:cdk:path: UploadImagesLambdaStack/UploadImagesHandler/Resource
      aws:asset:path: /Users/junker/code/hemnet-extra-api/src/upload-images/cdk/cdk.out/asset.ffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8
      aws:asset:is-bundled: true
      aws:asset:property: Code
  scheduleRule8FE1E73B:
    Type: AWS::Events::Rule
    Properties:
      ScheduleExpression: cron(1 * * * ? *)
      State: ENABLED
      Targets:
      - Arn:
          Fn::GetAtt:
          - UploadImagesHandler8D7B8676
          - Arn
        Id: Target0
    Metadata:
      aws:cdk:path: UploadImagesLambdaStack/scheduleRule/Resource
  scheduleRuleAllowEventRuleUploadImagesLambdaStackUploadImagesHandlerBD4A725B5727548C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
        - UploadImagesHandler8D7B8676
        - Arn
      Principal: events.amazonaws.com
      SourceArn:
        Fn::GetAtt:
        - scheduleRule8FE1E73B
        - Arn
    Metadata:
      aws:cdk:path: UploadImagesLambdaStack/scheduleRule/AllowEventRuleUploadImagesLambdaStackUploadImagesHandlerBD4A725B
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAA/02PwQ6CMBBEv8V7WSQYE28KiWeCX7CWlRRom3RbPDT9dwt68PRmsrsz2Qqq+gLHwxXfXMhhLqO0jiA+PMpZ3JjJZzkqM4rWGvYuSC/al+nQoSZPbjM9sQ1OUhJbSlxQPweEeA9GemXNtvKvO3JaMWeXhEINsbcL7TmZSXBd4NbLsNdnD02QM/kGmQStZPIo9uF3k5lSEsYOBBOXa3WC6pw/mlipwgXjlSbov/wA/M+qlO4AAAA=
    Metadata:
      aws:cdk:path: UploadImagesLambdaStack/CDKMetadata/Default
Parameters:
  AssetParametersffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8S3BucketC026B9ED:
    Type: String
    Description: S3 bucket for asset "ffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8"
  AssetParametersffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8S3VersionKey5009708E:
    Type: String
    Description: S3 key for asset version "ffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8"
  AssetParametersffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8ArtifactHash97CECAE1:
    Type: String
    Description: Artifact hash for asset "ffeb66f5d981da454e15a56f0102e9fc3479295127cafd147ff59e1f635137d8"
